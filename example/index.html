<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <title>input-inline demo</title>
    <link rel="stylesheet" href="../input-inline.css">
    <style>
        body { 
            font-family: system-ui, sans-serif; 
            line-height: 1.4rem;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        section {
            margin-bottom: 30px;
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
        }
        h1 {
            margin-top: 0;
        }
        h2 {
            margin-top: 30px;
            margin-bottom: 10px;
        }
        code {
            background-color: #f5f5f5;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: monospace;
        }
        .demo-container {
            margin: 15px 0;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .event-log {
            margin-top: 10px;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 3px;
            max-height: 100px;
            overflow-y: auto;
            font-family: monospace;
            font-size: 0.9rem;
        }
        fieldset {
            margin: 15px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        button {
            margin: 5px;
            padding: 5px 10px;
        }
        pre {
            white-space: pre-wrap;
        }
        input-inline:invalid {
            border: 1px solid red;
        }

        @media (prefers-color-scheme: dark) {
            body, section, code, .demo-container, .event-log {
                color: white;
                background-color: #111111;
            }
            input-inline {
                color-scheme: light dark;
            }
        }
    </style>
</head>
<body>
    <h1>input-inline Custom Element Demos</h1>
    <p>This page demonstrates the functionality of the <code>&lt;input-inline&gt;</code> custom element, which reimplements the <code>&lt;input type="text"&gt;</code> element with <code>display: inline</code> behavior.</p>

    <section>
        <h2>1. Basic Usage</h2>
        <p>The <code>&lt;input-inline&gt;</code> element can be used inline within text. For example: <br>My name is <input-inline value="John Doe"></input-inline> and I live in <input-inline value="New York"></input-inline>.</p>
        
        <div class="demo-container">
            <p>Try editing the text above by clicking on the inline inputs.</p>
            <pre><code>&lt;p&gt;My name is &lt;input-inline value="John Doe"&gt;&lt;/input-inline&gt; and I live in &lt;input-inline value="New York"&gt;&lt;/input-inline&gt;.&lt;/p&gt;</code></pre>
        </div>
    </section>

    <section>
        <h2>2. Attributes and Properties</h2>
        
        <h3>2.1 Value / DefaultValue</h3>
        <div class="demo-container">
            <p>Default value set via attribute: <input-inline value="Hello World"></input-inline></p>
            <p>Value set via JavaScript: <input-inline id="js-value-demo"></input-inline></p>
            <button id="change-value-btn">Change Value via JS</button>
            <button id="get-value-btn">Get Current Value</button>
            <div id="value-output" class="event-log"></div>
            <pre><code>&lt;p&gt;Default value set via attribute: &lt;input-inline value="Hello World"&gt;&lt;/input-inline&gt;&lt;/p&gt;
&lt;p&gt;Value set via JavaScript: &lt;input-inline id="js-value-demo"&gt;&lt;/input-inline&gt;&lt;/p&gt;
&lt;script&gt;
  const jsValueDemo = document.getElementById('js-value-demo');
  jsValueDemo.value = "Set via JavaScript";
&lt;/script&gt;</code></pre>
        </div>

        <h3>2.2 Readonly</h3>
        <div class="demo-container">
            <p>This is a <input-inline value="readonly" readonly></input-inline> input that cannot be edited.</p>
            <p>This is a <input-inline id="toggle-readonly" value="toggleable"></input-inline> input that can be toggled.</p>
            <button id="toggle-readonly-btn">Toggle Readonly</button>
            <pre><code>&lt;p&gt;This is a &lt;input-inline value="readonly" readonly&gt;&lt;/input-inline&gt; input that cannot be edited.&lt;/p&gt;
        </div>

        <h3>2.3 Disabled</h3>
        <div class="demo-container">
            <p>This is a <input-inline value="disabled" disabled></input-inline> input that is always disabled.</p>
            <p>This is a <input-inline id="toggle-disabled" value="toggleable"></input-inline> input that can be toggled.</p>
            <button id="toggle-disabled-btn">Toggle Disabled</button>
            <pre><code>&lt;p&gt;This is a &lt;input-inline value="disabled" disabled&gt;&lt;/input-inline&gt; input that is always disabled.&lt;/p&gt;
        </div>

        <h3>2.4 Required</h3>
        <div class="demo-container">
            <form id="required-form">
                <p><label for="required-field">This field is required:</label> <input-inline id="required-field" name="required-field" required></input-inline></p>
                <button type="submit">Submit</button>
            </form>
            <div id="required-log" class="event-log"></div>
            <pre><code>&lt;form id="required-form"&gt;
    &lt;p&gt;&lt;label for="required-field"&gt;This field is required:&lt;/label&gt; &lt;input-inline id="required-field" name="required-field" required&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></pre>
        </div>
    </section>

    <section>
        <h2>3. Form Integration</h2>
        
        <h3>3.1 Form Submission</h3>
        <div class="demo-container">
            <form id="demo-form">
                <p>First name: <input-inline name="firstname" value="John"></input-inline></p>
                <p>Last name: <input-inline name="lastname" value="Doe"></input-inline></p>
                <p>Email: <input-inline name="email" value="john.doe@example.com"></input-inline></p>
                <button type="submit">Submit Form</button>
            </form>
            <div id="form-log" class="event-log"></div>
            <pre><code>&lt;form id="demo-form"&gt;
    &lt;p&gt;First name: &lt;input-inline name="firstname" value="John"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;p&gt;Last name: &lt;input-inline name="lastname" value="Doe"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;p&gt;Email: &lt;input-inline name="email" value="john.doe@example.com"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;button type="submit"&gt;Submit Form&lt;/button&gt;
&lt;/form&gt;</code></pre>
        </div>

        <h3>3.2 Events (input & change)</h3>
        <div class="demo-container">
            <p>Type here: <input-inline id="event-demo" value="Edit me"></input-inline></p>
            <div id="event-log" class="event-log"></div>
            <pre><code>&lt;p&gt;Type here: &lt;input-inline id="event-demo" value="Edit me"&gt;&lt;/input-inline&gt;&lt;/p&gt;

&lt;script&gt;
  const eventDemo = document.getElementById('event-demo');
  
  eventDemo.addEventListener('input', (e) => {
    // Handle input event
  });
  
  eventDemo.addEventListener('change', (e) => {
    // Handle change event
  });
&lt;/script&gt;</code></pre>
        </div>

        <h3>3.3 Form Reset</h3>
        <div class="demo-container">
            <form id="reset-form">
                <p>Edit this text: <input-inline name="reset-field" value="Original value"></input-inline></p>
                <button type="button" id="modify-btn">Modify Value</button>
                <button type="reset">Reset Form</button>
            </form>
            <pre><code>&lt;form id="reset-form"&gt;
    &lt;p&gt;Edit this text: &lt;input-inline name="reset-field" value="Original value"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;button type="button" id="modify-btn"&gt;Modify Value&lt;/button&gt;
    &lt;button type="reset"&gt;Reset Form&lt;/button&gt;
&lt;/form&gt;</code></pre>
        </div>
    </section>

    <section>
        <h2>4. Validation</h2>
        <div class="demo-container">
            <form id="validation-form">
                <p>Custom validation: <input-inline id="custom-validation" name="custom-field" value="test"></input-inline></p>
                <button type="submit">Validate</button>
            </form>
            <button id="set-custom-validity">Set Custom Validity Message</button>
            <button id="clear-custom-validity">Clear Custom Validity</button>
            <div id="validation-log" class="event-log"></div>
            <pre><code>&lt;form id="validation-form"&gt;
    &lt;p&gt;Custom validation: &lt;input-inline id="custom-validation" name="custom-field" value="test"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;button type="submit"&gt;Validate&lt;/button&gt;
&lt;/form&gt;

&lt;script&gt;
  // Custom validation example
  const customValidation = document.getElementById('custom-validation');
  
  // Set custom validity message
  customValidation.setCustomValidity("This field has a custom error message");
  
  // Clear custom validity
  customValidation.setCustomValidity("");
&lt;/script&gt;</code></pre>
        </div>
    </section>

    <section>
        <h2>5. Fieldset Integration</h2>
        <div class="demo-container">
            <form>
                <fieldset>
                    <legend>Enabled Fieldset</legend>
                    <p>This input is in an enabled fieldset: <input-inline name="enabled-field" value="I can be edited"></input-inline></p>
                </fieldset>
                
                <fieldset disabled>
                    <legend>Disabled Fieldset</legend>
                    <p>This input is in a disabled fieldset: <input-inline name="disabled-field" value="I cannot be edited"></input-inline></p>
                </fieldset>
                
                <fieldset id="toggle-fieldset">
                    <legend>Toggleable Fieldset</legend>
                    <p>This input is in a toggleable fieldset: <input-inline name="toggle-field" value="Toggle me"></input-inline></p>
                </fieldset>
                <button type="button" id="toggle-fieldset-btn">Toggle Fieldset</button>
            </form>
            <pre><code>&lt;form&gt;
    &lt;fieldset&gt;
        &lt;legend&gt;Enabled Fieldset&lt;/legend&gt;
        &lt;p&gt;This input is in an enabled fieldset: &lt;input-inline name="enabled-field" value="I can be edited"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;/fieldset&gt;
    
    &lt;fieldset disabled&gt;
        &lt;legend&gt;Disabled Fieldset&lt;/legend&gt;
        &lt;p&gt;This input is in a disabled fieldset: &lt;input-inline name="disabled-field" value="I cannot be edited"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;/fieldset&gt;
    
    &lt;fieldset id="toggle-fieldset"&gt;
        &lt;legend&gt;Toggleable Fieldset&lt;/legend&gt;
        &lt;p&gt;This input is in a toggleable fieldset: &lt;input-inline name="toggle-field" value="Toggle me"&gt;&lt;/input-inline&gt;&lt;/p&gt;
    &lt;/fieldset&gt;
&lt;/form&gt;</code></pre>
        </div>
    </section>

    <script src="../input-inline.js"></script>
    <script>
        // Value demo
        const jsValueDemo = document.getElementById('js-value-demo');
        jsValueDemo.value = "Set via JavaScript";
        
        document.getElementById('change-value-btn').addEventListener('click', () => {
            jsValueDemo.value = "Changed at " + new Date().toLocaleTimeString();
        });
        
        document.getElementById('get-value-btn').addEventListener('click', () => {
            const valueOutput = document.getElementById('value-output');
            valueOutput.textContent = `Current value: "${jsValueDemo.value}"`;
        });

        // Readonly toggle
        const toggleReadonly = document.getElementById('toggle-readonly');
        document.getElementById('toggle-readonly-btn').addEventListener('click', () => {
            toggleReadonly.readOnly = !toggleReadonly.readOnly;
            alert(`Readonly is now ${toggleReadonly.readOnly ? 'enabled' : 'disabled'}`);
        });

        // Disabled toggle
        const toggleDisabled = document.getElementById('toggle-disabled');
        document.getElementById('toggle-disabled-btn').addEventListener('click', () => {
            toggleDisabled.disabled = !toggleDisabled.disabled;
        });

        // Required form
        document.getElementById('required-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const requiredLog = document.getElementById('required-log');
            requiredLog.textContent = "Form submitted successfully!";
        });

        // Form submission
        document.getElementById('demo-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const formLog = document.getElementById('form-log');
            formLog.textContent = 'Form submitted with values:\n';
            
            for (const [name, value] of formData.entries()) {
                formLog.textContent += `${name}: ${value}\n`;
            }
        });

        // Events demo
        const eventDemo = document.getElementById('event-demo');
        const eventLog = document.getElementById('event-log');
        
        eventDemo.addEventListener('input', (e) => {
            eventLog.textContent = `Input event at ${new Date().toLocaleTimeString()}\nValue: ${e.target.value}`;
        });
        
        eventDemo.addEventListener('change', (e) => {
            eventLog.textContent += `\n\nChange event at ${new Date().toLocaleTimeString()}\nValue: ${e.target.value}`;
            eventLog.scrollTop = eventLog.scrollHeight;
        });

        // Form reset
        document.getElementById('modify-btn').addEventListener('click', () => {
            const resetField = document.querySelector('#reset-form input-inline');
            resetField.value = "Modified value at " + new Date().toLocaleTimeString();
        });

        // Validation
        document.getElementById('validation-form').addEventListener('submit', (e) => {
            e.preventDefault();
            const form = e.target;
            const validationLog = document.getElementById('validation-log');
            
            if (form.checkValidity()) {
                validationLog.textContent = "Form is valid!";
            } else {
                validationLog.textContent = "Form is invalid. Please check the fields.";
            }
        });
        
        const customValidation = document.getElementById('custom-validation');
        
        document.getElementById('set-custom-validity').addEventListener('click', () => {
            customValidation.setCustomValidity("This field has a custom error message");
            document.getElementById('validation-log').textContent = "Custom validity set. Try submitting the form.";
        });
        
        document.getElementById('clear-custom-validity').addEventListener('click', () => {
            customValidation.setCustomValidity("");
            document.getElementById('validation-log').textContent = "Custom validity cleared.";
        });

        // Fieldset toggle
        const toggleFieldset = document.getElementById('toggle-fieldset');
        document.getElementById('toggle-fieldset-btn').addEventListener('click', () => {
            toggleFieldset.disabled = !toggleFieldset.disabled;
            alert(`Fieldset is now ${toggleFieldset.disabled ? 'disabled' : 'enabled'}`);
        });
    </script>
</body>
</html>
